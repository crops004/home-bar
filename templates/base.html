<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Cocktail App{% endblock %}</title>
    <!-- Tailwind -->
    <link rel="stylesheet" href="{{ url_for('static', filename='dist/output.css') }}">
</head>
<body class="bg-background-dark min-h-screen max-w-[1600px] mx-auto text-text-normal relative text-sm sm:text-lg md:text-xl lg:text-2xl flex flex-col">
    <div id="toast" class="toast"></div>
    <!-- Mobile Bottom Nav -->
    <nav class="sm:hidden fixed bottom-0 left-0 right-0 bg-background-mid border-t border-border-muted z-50">
        {% set current_endpoint = request.endpoint or '' %}
        <div class="grid grid-cols-5 items-stretch py-0 text-xs text-text-muted">
            <a href="{{ url_for('bar.bar') }}" class="flex min-h-14 w-full flex-col items-center justify-center gap-0.5 px-1 py-0.5 transition-colors {% if current_endpoint.startswith('bar.') %}text-logo{% else %}text-text-muted{% endif %}">
                <span class="flex h-7 w-7 items-center justify-center rounded-full">
                    <svg class="w-5 h-5 block mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none"/>
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.1" d="M11.5 23.5h-7v-14l3-3v-6h3v6l2 2m7 7l-3 3.5l-3-3.5v-5h6zm-3 3.5v4.5m-2 0h4m-11-20h3"/>
                    </svg>
                </span>
                <span class="leading-none">Bar</span>
            </a>
            <a href="{{ url_for('recipes.recipes') }}" class="flex min-h-14 w-full flex-col items-center justify-center gap-0.5 px-1 py-0.5 transition-colors {% if current_endpoint.startswith('recipes.') %}text-logo{% else %}text-text-muted{% endif %}">
                <span class="flex h-7 w-7 items-center justify-center rounded-full">
                    <svg class="w-5 h-5 block mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none"/>
                        <path fill="currentColor" d="M7 3h9a3 3 0 0 1 3 3v13a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3m0 1a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-3v6.7l-3-2.1l-3 2.1zm5 0H8v4.78l2-1.4l2 1.4z"/>
                    </svg>
                </span>
                <span class="leading-none">Recipes</span>
            </a>
            <a href="{{ url_for('prices') }}" class="flex min-h-14 w-full flex-col items-center justify-center gap-0.5 px-1 py-0.5 transition-colors {% if current_endpoint == 'prices' %}text-logo{% else %}text-text-muted{% endif %}">
                <span class="flex h-7 w-7 items-center justify-center rounded-full">
                    <svg class="w-5 h-5 block mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none"/>
                        <g fill="none" stroke="currentColor" stroke-width="1.1">
                            <path d="M4.728 16.137c-1.545-1.546-2.318-2.318-2.605-3.321c-.288-1.003-.042-2.068.45-4.197l.283-1.228c.413-1.792.62-2.688 1.233-3.302s1.51-.82 3.302-1.233l1.228-.284c2.13-.491 3.194-.737 4.197-.45c1.003.288 1.775 1.061 3.32 2.606l1.83 1.83C20.657 9.248 22 10.592 22 12.262c0 1.671-1.344 3.015-4.033 5.704c-2.69 2.69-4.034 4.034-5.705 4.034c-1.67 0-3.015-1.344-5.704-4.033z"/>
                            <path stroke-linecap="round" d="M15.39 15.39c.585-.587.664-1.457.176-1.946s-1.359-.409-1.945.177c-.585.586-1.456.665-1.944.177s-.409-1.359.177-1.944m3.535 3.535l.354.354m-.354-.354c-.4.401-.935.565-1.389.471m-2.5-4.36l.354.354m0 0c.331-.332.753-.5 1.146-.497"/>
                            <circle cx="8.607" cy="8.879" r="2" transform="rotate(-45 8.607 8.879)"/>
                        </g>
                    </svg>
                </span>
                <span class="leading-none">Prices</span>
            </a>
            <a href="{{ url_for('manage_lists') }}" class="flex min-h-14 w-full flex-col items-center justify-center gap-0.5 px-1 py-0.5 transition-colors {% if current_endpoint == 'manage_lists' %}text-logo{% else %}text-text-muted{% endif %}">
                <span class="flex h-7 w-7 items-center justify-center rounded-full">
                    <svg class="w-5 h-5 block mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none"/>
                        <path fill="currentColor" d="M5.839 17.904L3 15.066l.689-.689l2.125 2.125l4.25-4.25l.688.714zm0-7.231L3 7.835l.689-.689l2.125 2.125l4.25-4.25l.688.714zm7.18 5.442v-1h8v1zm0-7.23v-1h8v1z"/>
                    </svg>
                </span>
                <span class="leading-none">Lists</span>
            </a>
            <a href="{{ url_for('possible_ingredients') }}" class="flex min-h-14 w-full flex-col items-center justify-center gap-0.5 px-1 py-0.5 transition-colors {% if current_endpoint == 'possible_ingredients' %}text-logo{% else %}text-text-muted{% endif %}">
                <span class="flex h-7 w-7 items-center justify-center rounded-full">
                    <svg class="w-5 h-5 block mx-auto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <rect width="24" height="24" fill="none"/>
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.9">
                            <path d="M17.536 3.393c3.905 3.906 3.905 10.237 0 14.143c-3.906 3.905-10.237 3.905-14.143 0z"/>
                            <path d="M5.868 15.06a6.5 6.5 0 0 0 9.193-9.192m-4.597 4.596l4.597 4.597m-4.597-4.597v6.364m0-6.364h6.364"/>
                        </g>
                    </svg>
                </span>
                <span class="leading-none">Ingredients</span>
            </a>
        </div>
    </nav>

    <!-- Desktop Nav (hidden on mobile) -->
    <div id="desktop-nav" class="hidden bg-background-dark sm:flex justify-between items-start gap-4 px-4 sticky top-0 z-50 pb-6 pt-4">
        <!-- Left nav card -->
        <nav class="bg-gradient-to-t from-background-mid to-background-light border border-border rounded-full shadow-2xl px-4 py-1 ml-4">
            <div class="flex flex-wrap items-center gap-2 sm:gap-4 md:gap-6 mx-2 text-sm font-medium text-text-normal">
                <a href="{{ url_for('bar.bar') }}">
                    <img src="{{ url_for('static', filename='images/swizzle_logo.png') }}" alt="Swizzle Logo" class="h-10 w-auto block">
                </a>
                <a href="{{ url_for('bar.bar') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light {% if request.endpoint == 'bar.bar' %}text-logo{% endif %}">Bar</a>
                <a href="{{ url_for('recipes.recipes') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light {% if request.endpoint == 'recipes.recipes' %}text-logo{% endif %}">Recipes</a>

            </div>
        </nav>

        <!-- Right nav card -->
        <nav class="bg-gradient-to-t from-background-mid to-background-light border border-border rounded-full shadow-2xl px-4 py-2 mr-4">
            <div class="flex flex-wrap items-center gap-2 sm:gap-4 md:gap-6 mx-2 text-sm font-medium text-text-normal">
                <a href="{{ url_for('prices') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light {% if request.endpoint == 'prices' %}text-logo{% endif %}">Prices</a>
                <a href="{{ url_for('manage_lists') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light {% if request.endpoint == 'manage_lists' %}text-logo{% endif %}">Lists</a>
                <a href="{{ url_for('possible_ingredients') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light {% if request.endpoint == 'possible_ingredients' %}text-logo{% endif %}">Ingredients</a>
                    {% if session.logged_in %}
                        <a href="{{ url_for('logout') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light">Logout</a>
                    {% else %}
                        <a href="{{ url_for('login') }}" class="px-2 py-1.5 rounded-full hover:bg-background-light">Login</a>
                {% endif %}
            </div>
        </nav>
    </div>

    <!-- Main content that fills available space -->
    <main class="flex-grow pb-24 sm:pb-0">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer pinned to bottom -->
    <footer >

    </footer>

    {% if SHOW_VIEWPORT_DEBUG %}
    <!-- Viewport debug -->
    <div class="fixed bottom-0 right-0 bg-black text-white text-xs px-2 py-1 z-50">
        <span id="width"></span>px wide Ã— <span id="height"></span>px tall
    </div>
    {% endif %}

    <script src="{{ url_for('static', filename='js/app.js') }}" defer></script>
    {% block scripts %}{% endblock %}
</body>
</html>
